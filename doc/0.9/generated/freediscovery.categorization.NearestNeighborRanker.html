

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>freediscovery.categorization.NearestNeighborRanker &mdash; FreeDiscovery 0.9.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="FreeDiscovery 0.9.1 documentation" href="../index.html"/>
        <link rel="up" title="Python API Reference" href="../python_api.html"/>
        <link rel="next" title="freediscovery.lsi._LSIWrapper" href="freediscovery.lsi._LSIWrapper.html"/>
        <link rel="prev" title="freediscovery.categorization._CategorizerWrapper" href="freediscovery.categorization._CategorizerWrapper.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> FreeDiscovery
          

          
          </a>

          
            
            
              <div class="version">
                0.9.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation_instructions.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rest_api.html">REST API reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../python_api.html">Python API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../python_api.html#datasets">Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python_api.html#parsers">Parsers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python_api.html#feature-extraction">Feature extraction</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../python_api.html#document-categorization">Document categorization</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="freediscovery.categorization._CategorizerWrapper.html">freediscovery.categorization._CategorizerWrapper</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">freediscovery.categorization.NearestNeighborRanker</a></li>
<li class="toctree-l3"><a class="reference internal" href="freediscovery.lsi._LSIWrapper.html">freediscovery.lsi._LSIWrapper</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../python_api.html#document-clustering">Document clustering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python_api.html#duplicates-detection">Duplicates detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python_api.html#email-threading">Email threading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python_api.html#semantic-search">Semantic search</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python_api.html#tools">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python_api.html#io">IO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python_api.html#metrics">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python_api.html#exceptions">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whats_new.html">Release history</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">FreeDiscovery</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 







<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../python_api.html">Python API Reference</a> &raquo;</li>
      
    <li>freediscovery.categorization.NearestNeighborRanker</li>
    <li class="wy-breadcrumbs-aside">
      
          
          <a href="../_sources/generated/freediscovery.categorization.NearestNeighborRanker.rst.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="freediscovery-categorization-nearestneighborranker">
<h1>freediscovery.categorization.NearestNeighborRanker<a class="headerlink" href="#freediscovery-categorization-nearestneighborranker" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="freediscovery.categorization.NearestNeighborRanker">
<em class="property">class </em><code class="descclassname">freediscovery.categorization.</code><code class="descname">NearestNeighborRanker</code><span class="sig-paren">(</span><em>radius=1.0</em>, <em>algorithm='brute'</em>, <em>leaf_size=30</em>, <em>n_jobs=1</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/FreeDiscovery/FreeDiscovery/blob/845f0ec/freediscovery/neighbors.py#L73"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#freediscovery.categorization.NearestNeighborRanker" title="Permalink to this definition">¶</a></dt>
<dd><p>A nearest neighbor ranker.</p>
<p>The distance is returned in terms of cosine_similarity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em><em> (</em><em>default = 1.0</em><em>)</em><em></em>) &#8211; Range of parameter space to use by default for <code class="xref py py-meth docutils literal"><span class="pre">radius_neighbors()</span></code>
queries.</li>
<li><strong>algorithm</strong> (<em>{'auto'</em><em>, </em><em>'ball_tree'</em><em>, </em><em>'kd_tree'</em><em>, </em><em>'brute'}</em><em>, </em><em>optional</em>) &#8211; <p>Algorithm used to compute the nearest neighbors:</p>
<ul>
<li>&#8216;ball_tree&#8217; will use <code class="xref py py-class docutils literal"><span class="pre">BallTree</span></code></li>
<li>&#8216;kd_tree&#8217; will use <code class="xref py py-class docutils literal"><span class="pre">KDtree</span></code></li>
<li>&#8216;brute&#8217; will use a brute-force search.</li>
<li>&#8216;auto&#8217; will attempt to decide the most appropriate algorithm
based on the values passed to <a class="reference internal" href="#freediscovery.categorization.NearestNeighborRanker.fit" title="freediscovery.categorization.NearestNeighborRanker.fit"><code class="xref py py-meth docutils literal"><span class="pre">fit()</span></code></a> method.</li>
</ul>
<p>Note: fitting on sparse input will override the setting of
this parameter, using brute force.</p>
</li>
<li><strong>leaf_size</strong> (<em>int</em><em>, </em><em>optional</em><em> (</em><em>default = 30</em><em>)</em><em></em>) &#8211; Leaf size passed to BallTree or KDTree.  This can affect the
speed of the construction and query, as well as the memory
required to store the tree.  The optimal value depends on the
nature of the problem.</li>
<li><strong>n_jobs</strong> (<em>int</em><em>, </em><em>optional</em><em> (</em><em>default = 1</em><em>)</em><em></em>) &#8211; The number of parallel jobs to run for neighbors search.
If <code class="docutils literal"><span class="pre">-1</span></code>, then the number of jobs is set to the number of CPU cores.</li>
<li><strong>method</strong> (<em>str</em><em>, </em><em>def</em>) &#8211; If &#8220;unsupervised&#8221; only distances to the positive samples are used in the ranking
If &#8220;supervised&#8221; both the distance to the positive and negative documents are used
for ranking (i.e. if a document is slightly further away from a positive document
than from a negative one, it will be considered negative with a very low score)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="freediscovery.categorization.NearestNeighborRanker.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>radius=1.0</em>, <em>algorithm='brute'</em>, <em>leaf_size=30</em>, <em>n_jobs=1</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/FreeDiscovery/FreeDiscovery/blob/845f0ec/freediscovery/neighbors.py#L114"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#freediscovery.categorization.NearestNeighborRanker.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#freediscovery.categorization.NearestNeighborRanker.__init__" title="freediscovery.categorization.NearestNeighborRanker.__init__"><code class="xref py py-obj docutils literal"><span class="pre">__init__</span></code></a>([radius,&nbsp;algorithm,&nbsp;leaf_size,&nbsp;n_jobs])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#freediscovery.categorization.NearestNeighborRanker.fit" title="freediscovery.categorization.NearestNeighborRanker.fit"><code class="xref py py-obj docutils literal"><span class="pre">fit</span></code></a>(X,&nbsp;y)</td>
<td>Fit the model using X as training data</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#freediscovery.categorization.NearestNeighborRanker.get_params" title="freediscovery.categorization.NearestNeighborRanker.get_params"><code class="xref py py-obj docutils literal"><span class="pre">get_params</span></code></a>([deep])</td>
<td>Get parameters for this estimator.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#freediscovery.categorization.NearestNeighborRanker.kneighbors" title="freediscovery.categorization.NearestNeighborRanker.kneighbors"><code class="xref py py-obj docutils literal"><span class="pre">kneighbors</span></code></a>([X,&nbsp;batch_size])</td>
<td>Finds the K-neighbors of a point.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#freediscovery.categorization.NearestNeighborRanker.score" title="freediscovery.categorization.NearestNeighborRanker.score"><code class="xref py py-obj docutils literal"><span class="pre">score</span></code></a>(X,&nbsp;y[,&nbsp;sample_weight])</td>
<td>Returns the ROC score of the prediction.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#freediscovery.categorization.NearestNeighborRanker.set_params" title="freediscovery.categorization.NearestNeighborRanker.set_params"><code class="xref py py-obj docutils literal"><span class="pre">set_params</span></code></a>(\*\*params)</td>
<td>Set the parameters of this estimator.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="freediscovery.categorization.NearestNeighborRanker.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>X</em>, <em>y</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/FreeDiscovery/FreeDiscovery/blob/845f0ec/freediscovery/neighbors.py#L123"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#freediscovery.categorization.NearestNeighborRanker.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model using X as training data
:param X: Training data, shape [n_samples, n_features],
:type X: {array-like, sparse matrix, BallTree, KDTree}</p>
</dd></dl>

<dl class="method">
<dt id="freediscovery.categorization.NearestNeighborRanker.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/FreeDiscovery/FreeDiscovery/blob/845f0ec/freediscovery/../../miniconda2/envs/testenv/lib/python3.6/site-packages/sklearn/base.py#L220"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#freediscovery.categorization.NearestNeighborRanker.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean</em><em>, </em><em>optional</em>) &#8211; If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> &#8211; Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="freediscovery.categorization.NearestNeighborRanker.kneighbors">
<code class="descname">kneighbors</code><span class="sig-paren">(</span><em>X=None</em>, <em>batch_size=5000</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/FreeDiscovery/FreeDiscovery/blob/845f0ec/freediscovery/neighbors.py#L157"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#freediscovery.categorization.NearestNeighborRanker.kneighbors" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the K-neighbors of a point.
Returns indices of and distances to the neighbors of each point.
:param X: the input array
:type X: array-like, shape (n_samples, n_features)
:param batch_size: the batch size
:type batch_size: int</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>S_cos</strong> (<em>array [n_samples, n_categories]</em>) &#8211; the cosine similarity to closest point in each category</li>
<li><strong>indices</strong> (<em>array [n_samples, n_categories]</em>) &#8211; Indices of the nearest points in the population matrix.</li>
<li><em>&#8212;&#8212;&#8211;</em></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="freediscovery.categorization.NearestNeighborRanker.score">
<code class="descname">score</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>sample_weight=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/FreeDiscovery/FreeDiscovery/blob/845f0ec/freediscovery/base.py#L26"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#freediscovery.categorization.NearestNeighborRanker.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the ROC score of the prediction.
Best possible score is 1.0 and the worst in 0.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em><em></em>) &#8211; Test samples.</li>
<li><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> (</em><em>n_samples</em><em>)</em><em></em>) &#8211; True values for X.</li>
<li><strong>sample_weight</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em><em></em><em>, </em><em>optional</em>) &#8211; Sample weights.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>score</strong> &#8211; ROC score of self.decision_function(X) wrt. y.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="freediscovery.categorization.NearestNeighborRanker.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/FreeDiscovery/FreeDiscovery/blob/845f0ec/freediscovery/../../miniconda2/envs/testenv/lib/python3.6/site-packages/sklearn/base.py#L257"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#freediscovery.categorization.NearestNeighborRanker.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="freediscovery.lsi._LSIWrapper.html" class="btn btn-neutral float-right" title="freediscovery.lsi._LSIWrapper" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="freediscovery.categorization._CategorizerWrapper.html" class="btn btn-neutral" title="freediscovery.categorization._CategorizerWrapper" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016 - 2017, Grossman Labs LLC.
      Last updated on Mar 24, 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.9.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-91765795-1', 'auto');
  ga('send', 'pageview');

</script>


</body>
</html>